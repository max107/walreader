name: walreader

x-networks: &x-networks
  networks:
    - backend

networks:
  backend:
    driver: bridge

services:
  pgsql-src:
    <<: *x-networks
    image: bitnami/postgresql:17
    ports:
      - "5433:5432"
    environment:
      POSTGRESQL_PASSWORD: postgres
      POSTGRESQL_DATABASE: app
      POSTGRESQL_WAL_LEVEL: logical
      POSTGRESQL_FSYNC: off

  pgsql-dst:
    <<: *x-networks
    image: bitnami/postgresql:17
    ports:
      - "5434:5432"
    environment:
      POSTGRESQL_PASSWORD: postgres
      POSTGRESQL_DATABASE: app
      POSTGRESQL_WAL_LEVEL: logical
      POSTGRESQL_FSYNC: off
